<%- include('layout/header') %>

<div class="container">
    <div class="row my-4">
        <div class="col-lg-12">
            <!-- replace with modal later -->
            <% if(message){ %>
                <div class="alert alert-dismissible fade show alert-<% message.type %>">
                    <strong class="text-success"><%= message.message %></strong>
                    <button class="btn-close" type="button" data-bs-dismiss="alert" aria-label="close">
                    </button>
                </div>
               
            <%}%>
            <div class="table-responsive text-center">
                <table class="table table-striped" id="table">
                    <thead class="table-dark">
                        <tr> 
                             <th scope="col">Id</th>
                             <th scope="col">Image</th>
                             <th scope="col">Name</th>
                             <th scope="col">Email</th>
                             <th scope="col">Phone</th>
                             <th scope="col">Action</th>
                        </tr> 
                    </thead> 
                <% if(users && users.length > 0){ %>
                    <tbody>
                        <% users.forEach((row, index) => { %>
                            <tr><!-- class="align-middle" -->
                                <td class="align-middle"><%= index %></td>
                                <td class="align-middle"><img src="<%= row.image %>" width="50"  height="30" class="image-thumbnail"></td>
                                <td><%= row.name %></td>
                                <td><%= row.email %></td>
                                <td class="align-middle"><%= row.phone %></td>
                                <td class="align-middle">
                                    <a href="/edit/<%= row._id %>" class="text-success"><i class="fas fa-edit fa-lg mx-1"></i></a>
                                    <a href="/delete/<%= row._id %>" class="text-danger"><i class="fas fa-trash fa-lg mx-1"></i></a>
                                </td>
                            </tr>
                        <%  }); %>  
                    </tbody>
                   <% } else{ %>
                    <tbody>
                        <tr class="text-center text-secondary mt-1">users found in the database!</tr> 
                    </tbody>
                   <% }  %>
                </table>
            </div>
        </div>
    </div>
</div>
<%- include('layout/footer') %>
